library(ggplot2)
head(mpg)
qplot(displ, year, data= mpg)
qplot(year, displ, data= mpg)
qplot(cyl, displ, data= mpg)
g = ggplot(mpg, aes(cyl, displ))
summary(g)
p <- g + geom_point()
print(p)
print(p)
g + geom_point()
g + geom_line()
g + geom_point()
g + geom_point() + geom_smooth()
g + geom_point() + geom_smooth(method = "lm")
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(drv.~)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(drv . ~)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(drv ~.)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = "green", size = 4) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = "green", size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = year, size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = drv, size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = year, size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = mpg$year, size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = "blue", size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw()
g + geom_point(color = "blue", size = 4, alpha = 1/2) + geom_smooth(method = "lm") + facet_grid(.~drv) + theme_bw() + legend()
g + geom_point(color = "blue", size = 4, alpha = 1/2)
g + geom_point(color = year, size = 4, alpha = 1/2, data = mpg)
is.factor(mpg$year)
mpg$year <- factor(mpg$year)
is.factor(mpg$year)
g + geom_point(color = year, size = 4, alpha = 1/2, data = mpg)
g + geom_point(color = year, size = 4, alpha = 1/2)
g + geom_point(aes(color = year), size = 4, alpha = 1/2)
is.factor(drv)
is.factor(mpg$drv)
is.factor(mpg$hwy)
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2)
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_classic()
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_minimal()
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_light()
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_light() + geom_smooth(size = 2, se = F, method = "lm")
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_light() + geom_smooth(size = 2, se = F, method = "lm", color = "black")
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_light() + geom_smooth(size = 2, se = F, method = "lm", color = cyl)
g + geom_point(aes(color = hwy), size = 4, alpha = 1/2) + theme_light() + geom_smooth(size = 2, se = F, method = "lm", color = "black")
testdat <- data.frame(x = 1:100, y = rnorm(100))
testdat[50,2] <- 100
plot(testdata$x, testdata$y, type = "l", ylim = c(-3, 3))
plot(testdat$x, testdat$y, type = "l", ylim = c(-3, 3))
ggplot(testdat, aes(x, y))
g = ggplot(testdat, aes(x, y))
g + geom_line()
g + geom_line() + ylim(-3, 3)
g + geom_line() + coord_cartesian(ylim = c(-1, 3))
g + geom_line() + coord_cartesian(ylim = c(-3, 3))
g + geom_area() + coord_cartesian(ylim = c(-3, 3))
g + geom_area() + coord_cartesian(ylim = c(0, 3))
g + geom_area(color = "red", alpha = 1/2) + coord_cartesian(ylim = c(0, 3))
g + geom_density() + coord_cartesian(ylim = c(-3, 3))
g + geom_density() + coord_cartesian(ylim = c(0, 3))
g + geom_density() + ylim = c(0, 3)
g + geom_area() + ylim = c(0, 3)
g + geom_area(color = "red", alpha = 1/2) + coord_cartesian(ylim = c(0, 3))
g + geom_area(color = "red", alpha = 1/2, fill = "red") + coord_cartesian(ylim = c(0, 3))
g + geom_area(color = "red", fill = "red") + coord_cartesian(ylim = c(0, 3))
g + geom_area(fill = "red") + coord_cartesian(ylim = c(0, 3))
g + geom_area(fill = "red", alpha = 0.3) + coord_cartesian(ylim = c(0, 3))
g + geom_area(fill = "red", alpha = 0.5) + coord_cartesian(ylim = c(0, 3))
g + geom_area(fill = "red", alpha = 0.5) + coord_cartesian(ylim = c(0, 3)) theme_light()
g + geom_area(fill = "red", alpha = 0.5) + coord_cartesian(ylim = c(0, 3)) + theme_light()
pad = "C:/Users/jeroen.demaeyer/Google Drive/TGVelo/Studies/Motor testbank/R/experimenten/loadcell/"
# ------------------------------------------------------------------------------------
mdz <- read.table(paste(pad, "stand6_zonder_kabel.txt", sep = ""), header = T)
mdm <- read.table(paste(pad, "stand6.txt", sep = ""), header = T)
mdm2 <- read.table(paste(pad, "stand6_met_kabel.txt", sep = ""), header = T)
library(dplyr)
mdz <- mutate(mdz, volts = Koppel / 0.36 / 9.81)
mdm <- mutate(mdm, volts = Koppel / 0.36 / 9.81)
mdm2 <- mutate(mdm2, volts = Koppel / 0.36 / 9.81)
plot(mdm$Tijd, mdm$volts)
plot(mdm2$Tijd, mdm2$volts)
plot(mdz$Tijd, mdz$volts)
mdz <- mutate(mdz, volts = (Koppel / 0.36 / 9.81 + 0.21)/3.92)
mdm <- mutate(mdm, volts = (Koppel / 0.36 / 9.81 + 0.21)/3.92)
mdm2 <- mutate(mdm2, volts = (Koppel / 0.36 / 9.81 + 0.21)/3.92)
plot(mdm$Tijd, mdm$volts)
plot(mdm2$Tijd, mdm2$volts)
plot(mdz$Tijd, mdz$volts)
max(mdm$volts)
x <- seq(0, 0.5, step = 0.001)
x <- seq(0, 0.5, by = 0.001)
Fn <- 0.11*0.19*7800*x*(0.1 + x/2)/(0.85 + x)
plot(x, Fn)
Gn <- 0.11*0.19*7800*x*(0.1 + x/2)/(0.17 + x)
plot(x, Fn)
plot(x, Gn)
approx(Gn, x, xout = 40)
x <- seq(0, 1, by = 0.001)
Gn <- 0.11*0.19*7800*x*(0.1 + x/2)/(0.17 + x)
approx(Gn, x, xout = 50)
approx(Gn, x, xout = 60)
ggplot(filter(md, Koppel > 20), aes(Snelheid, Koppel, col = Spanning)) + geom_point()
library(ggplot2)
library(dplyr)
ggplot(filter(md, Koppel > 20), aes(Snelheid, Koppel, col = Spanning)) + geom_point()
source('C:/Users/jeroen.demaeyer/Google Drive/TGVelo/Studies/Motor testbank/R/function_ma.R')
source('C:/Users/jeroen.demaeyer/Google Drive/TGVelo/Studies/Motor testbank/R/verwerk_data.R')
ggplot(filter(md, Koppel > 20), aes(Snelheid, Koppel, col = Spanning)) + geom_point()
list(add=add, getValue=getValue)
closure <- function(initial = 1000) {
stateVar <- initial
add <- function(n) {
stateVar <<- stateVar + n
log("added ", n)
}
log <- function(text, n) {
print(paste(text, n, ", result is ", stateVar, sep=""))
}
getValue <- function() { stateVar }
list(add=add, getValue=getValue)
}
closure <- function(initial = 1000) {
stateVar <- initial
add <- function(n) {
stateVar <<- stateVar + n
log("added ", n)
}
log <- function(text, n) {
print(paste(text, n, ", result is ", stateVar, sep=""))
}
getValue <- function() { stateVar }
list(add=add, getValue=getValue)
}
ob <- closure()Âµ
ob <- closure()
obj.getValue()
ob.getValue()
ob
ob$getValue()
ob$add(100)
ob$getValue()
closure <- function(initial = 1000) {
stateVar <- initial
add <- function(n) {
stateVar <- stateVar + n
log("added ", n)
}
log <- function(text, n) {
print(paste(text, n, ", result is ", stateVar, sep=""))
}
getValue <- function() { stateVar }
list(add=add, getValue=getValue)
}
ob <- closure()
ob$getValue()
ob$add(100)
ob$getValue()
setwd("~/R/eChecker/tractionCapacity/fun")
roxygen2::roxygenise("readcsv.R")
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv")
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
plot(df$ta, df$Pa1)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
plot(df$ta, df$Pa1)
plot(df$ta/60, df$Pa1)
plot(df$ta, df$v)
1 && 0
1 && 1
1 && 4
1 & 4
c(1,1) && c(1,2)
c(1,1) & c(1,2)
c(1,1) && c(1,2)
c(1,1) && c(2,1)
c(1,1) && c(1,1)
c(1,1) && c(0,0)
2 && 2
2 && 3
c(1,1) && c(0,1)
c(1,1) & c(0,1)
9*60
4*60
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
calibrate(df)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
calibrate(df)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
calibrate(df)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
a <- calibrate(df)
a
data  <- df
sel <- subset(data, ta > 240 && ta < 540)
sel
sel <- subset(data, ta > 240 & ta < 540)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df <- readcsv("calvoor1_05_04.csv", compressed = T)
a <- calibrate(df)
setwd("~/R/eChecker/tractionCapacity")
source("fun.R")
df1 <- readcsv("calvoor1_05_04.csv", compressed = T)
calBefore <- calibrate(df1)
df2 <- readcsv("calna1_05_04.csv", compressed = T)
calAfter <- calibrate(df2)
plot(df2$ta/60, df2$Pa1)
test <- readcsv("test1_05_04.csv")
?read.csv2
library(data.table)
system.time(fread('../data/test1_05_04.csv', header = T, sep = ';'))
?fread
system.time(fread('data/test1_05_04.csv'))
setwd("~/R/eChecker/tractionCapacity")
test <- fread('data/test1_05_04.csv')
test <- fread('data/test1_05_04.csv', header = TRUE)
